!-- profile.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - SlowMA</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <div class="app-container">
        <header>
            <button onclick="window.location.href='/'" class="back-btn">‚Üê Back</button>
            <h1>Your Profile</h1>
        </header>

        <main>
            <!-- Housen Stage Spectrum -->
            <div class="stage-section">
                <h2>Your Learning Stage</h2>
                <p class="stage-name">{{ stage_info.full_name }}</p>
                <p class="stage-description">{{ stage_info.description }}</p>

                <div class="spectrum-container">
                    {% for s in range(1, 6) %}
                        {% for sub in range(1, 4) %}
                        <div class="spectrum-segment 
                                    {% if s < user.housen_stage or (s == user.housen_stage and sub <= user.housen_substage) %}filled{% endif %}">
                        </div>
                        {% endfor %}
                    {% endfor %}
                </div>

                <div class="stage-labels">
                    <span>Stage I</span>
                    <span>Stage II</span>
                    <span>Stage III</span>
                    <span>Stage IV</span>
                    <span>Stage V</span>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <span class="stat-value">{{ stats.journeys_completed }}</span>
                    <span class="stat-label">Journeys</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value">{{ stats.total_time_minutes }}</span>
                    <span class="stat-label">Minutes</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value">{{ stats.museum_visits }}</span>
                    <span class="stat-label">Museums</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value">{{ stats.current_streak }}</span>
                    <span class="stat-label">Day Streak</span>
                </div>
            </div>

            <!-- Badges -->
            <div class="badges-section">
                <h2>Badges ({{ stats.badges_earned }})</h2>
                <div class="badges-grid">
                    {% for badge_id in user.badges %}
                    <div class="badge">
                        <span class="badge-icon">{{ badge_id[:2] }}</span>
                    </div>
                    {% endfor %}
                </div>
            </div>
        </main>
    </div>
</body>
</html>